import{r as y,j as e,a as f,B as w,m as x,e as N,f as v,F as j,g as k,S as C,C as T}from"./index-X1niyO1E.js";const F=({lesson:s,viewPreferences:o={},onSelectionAction:l})=>{const[n,m]=y.useState({summary:!0,keyPoints:!0,chapters:!0,vocabulary:!1,questions:!1}),r=y.useCallback(t=>{m(a=>({...a,[t]:!a[t]}))},[]),i=s.content||{},d=i.summary||s.summary,g=i.keyPoints||s.keyConceptsForChat||[],p=i.chapters||s.chapters||[],h=i.vocabulary||s.vocabulary||[],u=s.suggestedQuestions||[],b=i.rawText||s.rawText;return e.jsx("div",{className:"flex-1 h-full overflow-auto bg-gradient-to-b from-white to-gray-50",children:e.jsxs(f,{lessonId:s.id,contentType:"html",onSelectionAction:l,className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"space-y-6",children:[d&&e.jsx(c,{title:"Summary",icon:e.jsx(w,{className:"w-5 h-5"}),isExpanded:n.summary,onToggle:()=>r("summary"),color:"blue",children:e.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:d})}),g.length>0&&e.jsx(c,{title:"Key Points",icon:e.jsx(N,{className:"w-5 h-5 fill-yellow-400 text-black"}),isExpanded:n.keyPoints,onToggle:()=>r("keyPoints"),color:"yellow",children:e.jsx("ul",{className:"space-y-3",children:g.map((t,a)=>e.jsxs(x.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:a*.1},className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-7 h-7 bg-nanobanana-yellow rounded-full border-2 border-black flex items-center justify-center text-sm font-bold",children:a+1}),e.jsx("span",{className:"text-gray-700 leading-relaxed",children:t})]},a))})}),p.length>0&&e.jsx(c,{title:"Chapters",icon:e.jsx(v,{className:"w-5 h-5"}),isExpanded:n.chapters,onToggle:()=>r("chapters"),color:"green",children:e.jsx("div",{className:"space-y-4",children:p.map((t,a)=>e.jsx(S,{chapter:t,index:a},t.id||a))})}),b&&!d&&p.length===0&&e.jsx(c,{title:"Lesson Content",icon:e.jsx(j,{className:"w-5 h-5"}),isExpanded:!0,onToggle:()=>{},color:"blue",children:e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("p",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",children:b})})}),h.length>0&&e.jsx(c,{title:"Key Words",icon:e.jsx(j,{className:"w-5 h-5"}),isExpanded:n.vocabulary,onToggle:()=>r("vocabulary"),color:"blue",badge:`${h.length} words`,children:e.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:h.map((t,a)=>e.jsx(E,{item:t},a))})}),u.length>0&&e.jsx(c,{title:"Questions to Think About",icon:e.jsx(k,{className:"w-5 h-5"}),isExpanded:n.questions,onToggle:()=>r("questions"),color:"purple",children:e.jsx("ul",{className:"space-y-2",children:u.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-2 text-purple-700",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:"?"}),e.jsx("span",{children:t})]},a))})})]}),e.jsx(C,{})]})})},c=({title:s,icon:o,isExpanded:l,onToggle:n,color:m,badge:r,children:i})=>{const d={yellow:"bg-yellow-50 border-nanobanana-yellow",blue:"bg-blue-50 border-nanobanana-blue",green:"bg-green-50 border-nanobanana-green",purple:"bg-purple-50 border-purple-300",pink:"bg-pink-50 border-pink-300"};return e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`
        rounded-2xl border-4 ${d[m]||"bg-white border-gray-200"}
        overflow-hidden transition-all duration-300
      `,children:[e.jsxs("button",{onClick:n,className:"w-full px-5 py-4 flex items-center justify-between hover:bg-white/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[o,e.jsx("h3",{className:"font-bold text-lg font-comic",children:s}),r&&e.jsx("span",{className:"px-2 py-0.5 bg-white/60 rounded-full text-xs font-medium text-gray-600",children:r})]}),e.jsx(x.div,{animate:{rotate:l?180:0},transition:{duration:.2},children:e.jsx(T,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx(x.div,{initial:!1,animate:{height:l?"auto":0,opacity:l?1:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"px-5 pb-5",children:i})})]})},S=({chapter:s,index:o})=>e.jsxs(x.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:o*.1},className:"p-4 bg-white rounded-xl border-2 border-gray-200 hover:border-nanobanana-green transition-colors",children:[e.jsxs("h4",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-nanobanana-green text-white rounded-full flex items-center justify-center text-sm font-bold",children:o+1}),s.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.content})]}),E=({item:s})=>{const o=typeof s=="string"?s:s.term,l=typeof s=="string"?null:s.definition,n=typeof s=="string"?null:s.example;return e.jsxs("div",{className:"p-3 bg-white rounded-xl border-2 border-blue-200 hover:border-blue-300 transition-colors",children:[e.jsx("span",{className:"font-bold text-blue-800",children:o}),l&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-500",children:":"})," ",e.jsx("span",{className:"text-blue-600",children:l})]}),n&&e.jsxs("p",{className:"text-sm text-blue-500 mt-1 italic",children:["Example: ",n]})]})};export{F as default};
